name: Check Changelogs
on:
  # https://docs.github.com/en/actions/reference/events-that-trigger-workflows#pull_request
  pull_request:
    types: [ edited, opened, synchronize, reopened ]

jobs:
  build:
    runs-on: ubuntu-latest
    if: ${{ !contains(github.event.pull_request.body, 'noChangelog=true')  && !contains(github.event.pull_request.body, 'This PR has been generated by [Renovate Bot]')}}
    steps:
      - uses: actions/checkout@v2

      - name: verify_changelogs
        uses: coveo/github-actions/packages/verify-changelogs@main

      # Example to change text file(s) location. It's starts the serach at the root of the repo
      #with:
      # changeLogsLocation: someLocation